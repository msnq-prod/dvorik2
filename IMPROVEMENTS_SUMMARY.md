# –£–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã "–ú–∞—Ä–º–µ–ª–∞–¥–Ω—ã–π –î–≤–æ—Ä–∏–∫"

## –î–∞—Ç–∞: 2025-11-03

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ —É–ª—É—á—à–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### Priority 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 1. ‚úÖ –°–æ–∑–¥–∞–Ω .env.example
**–§–∞–π–ª**: `.env.example`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- –í–∫–ª—é—á–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π

**–ü–æ–ª—å–∑–∞**:
- –ù–æ–≤—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –°–Ω–∏–∂–µ–Ω —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

#### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.py)
**–§–∞–π–ª**: `core/config.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `ENVIRONMENT` (development/staging/production)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `CORS_ORIGINS` —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º –∏–∑ —Å—Ç—Ä–æ–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–ª—è `CORS_ORIGINS`

**–§–∞–π–ª**: `app/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –ª–æ–≥–∏ startup event –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –£–±—Ä–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `DATABASE_HOST` –∏ `REDIS_HOST`

**–ü–æ–ª—å–∑–∞**:
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS

---

#### 3. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Redis
**–§–∞–π–ª**: `app/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `redis_client.connect()` –≤ `startup_event()`
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `redis_client.disconnect()` –≤ `shutdown_event()`

**–ü–æ–ª—å–∑–∞**:
- **–ö–†–ò–¢–ò–ß–ù–û**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Redis –ø–∞–¥–∞–ª–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- Graceful shutdown –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

#### 4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegram client
**–§–∞–π–ª**: `services/telegram_client.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `settings.TELEGRAM_BOT_TOKEN` ‚Üí `settings.TELEGRAM_MAIN_BOT_TOKEN`

**–ü–æ–ª—å–∑–∞**:
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å .env.example

---

#### 5. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω validation handler
**–§–∞–π–ª**: `core/exception_handlers.py`

**–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–µ `errors` —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –≤ –∫–æ–¥–µ.

**–ü–æ–ª—å–∑–∞**:
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

---

### Priority 2: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

#### 6. ‚úÖ –£–ª—É—á—à–µ–Ω health check
**–§–∞–π–ª**: `app/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MySQL (`SELECT 1`)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis (`ping`)
- Health check —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ health check

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:
```json
{
  "status": "healthy",
  "environment": "development",
  "checks": {
    "database": "ok",
    "redis": "ok"
  }
}
```

**–ü–æ–ª—å–∑–∞**:
- –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Kubernetes, load balancers)
- Visibility –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

---

#### 7. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Rate Limiting
**–§–∞–π–ª**: `core/middleware.py` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å `RateLimitMiddleware`)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ IP –∞–¥—Ä–µ—Å
- –ü–µ—Ä–∏–æ–¥: 60 —Å–µ–∫—É–Ω–¥
- –ò—Å–∫–ª—é—á–µ–Ω—ã: `/health`, `/api/docs`, `/api/redoc`, `/api/openapi.json`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- HTTP 429 –æ—Ç–≤–µ—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- Rate limit headers –≤ –æ—Ç–≤–µ—Ç–µ:
  - `X-RateLimit-Limit`
  - `X-RateLimit-Remaining`
  - `X-RateLimit-Reset`
  - `Retry-After`

**–§–∞–π–ª**: `app/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω `RateLimitMiddleware` –≤ —Ü–µ–ø–æ—á–∫—É middleware

**–ü–æ–ª—å–∑–∞**:
- **–ó–∞—â–∏—Ç–∞ –æ—Ç DDoS** –∞—Ç–∞–∫
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- –ß–µ—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏

---

#### 8. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã Security Headers
**–§–∞–π–ª**: `core/middleware.py` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å `SecurityHeadersMiddleware`)

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
- `X-Content-Type-Options: nosniff` - –∑–∞—â–∏—Ç–∞ –æ—Ç MIME sniffing
- `X-Frame-Options: DENY` - –∑–∞—â–∏—Ç–∞ –æ—Ç clickjacking
- `X-XSS-Protection: 1; mode=block` - –∑–∞—â–∏—Ç–∞ –æ—Ç XSS
- `Referrer-Policy: strict-origin-when-cross-origin`
- `Strict-Transport-Security` (—Ç–æ–ª—å–∫–æ –¥–ª—è HTTPS)
- `Content-Security-Policy: default-src 'self'`

**–§–∞–π–ª**: `app/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω `SecurityHeadersMiddleware` –≤ —Ü–µ–ø–æ—á–∫—É middleware

**–ü–æ–ª—å–∑–∞**:
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –≤–µ–±-–∞—Ç–∞–∫
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ best practices –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

### Priority 3: –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

#### 9. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã Pre-commit Hooks
**–§–∞–π–ª—ã**: 
- `.pre-commit-config.yaml` (–Ω–æ–≤—ã–π)
- `pyproject.toml` (–Ω–æ–≤—ã–π)
- `mypy.ini` (–Ω–æ–≤—ã–π)
- `.bandit` (–Ω–æ–≤—ã–π)
- `requirements.txt` (–æ–±–Ω–æ–≤–ª–µ–Ω)

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
1. **Black** - –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (line-length=100)
2. **isort** - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
3. **Flake8** - –ª–∏–Ω—Ç–∏–Ω–≥ –∫–æ–¥–∞
4. **MyPy** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
5. **Bandit** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
6. **Pre-commit hooks** - –æ–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (trailing whitespace, YAML, JSON, –∏ —Ç.–¥.)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
- –í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º
- –ò—Å–∫–ª—é—á–µ–Ω—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (alembic/versions)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è compatibility

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞**:
```bash
pip install pre-commit
pre-commit install
pre-commit run --all-files  # Test
```

**–ü–æ–ª—å–∑–∞**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞ –≤ –∫–æ–º–∞–Ω–¥–µ
- –†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

---

### Priority 4: DevOps & Documentation

#### 10. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Backup/Restore
**–§–∞–π–ª**: `docs/BACKUP_RESTORE.md` (–Ω–æ–≤—ã–π)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ —Ä—É—á–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã backup
- –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é
- Disaster recovery –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ backup
- Security considerations (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
- Troubleshooting guide
- –ß–µ–∫–ª–∏—Å—Ç—ã

**–§–∞–π–ª**: `scripts/backup.sh` (–æ–±–Ω–æ–≤–ª–µ–Ω)

**–£–ª—É—á—à–µ–Ω–∏—è**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö credentials
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ `--single-transaction`, `--routines`, `--triggers`, `--events`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ (gzip)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ backup
- –£–≤–µ–ª–∏—á–µ–Ω retention period (30 –¥–Ω–µ–π –≤–º–µ—Å—Ç–æ 7)
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

**–ü–æ–ª—å–∑–∞**:
- **–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production**: –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á
- ‚úÖ **10 –∏–∑ 15** –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π
- ‚úÖ **–í—Å–µ Priority 1** (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ) –∑–∞–¥–∞—á–∏
- ‚úÖ **Priority 2** (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å) –∑–∞–¥–∞—á–∏
- ‚úÖ **–ß–∞—Å—Ç—å Priority 3 –∏ 4** –∑–∞–¥–∞—á

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. `.env.example` - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. `.pre-commit-config.yaml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pre-commit hooks
3. `pyproject.toml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è black, isort, pytest
4. `mypy.ini` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MyPy
5. `.bandit` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Bandit
6. `docs/BACKUP_RESTORE.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è backup/restore

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. `core/config.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã ENVIRONMENT, CORS_ORIGINS
2. `app/main.py` - Redis init, —É–ª—É—á—à–µ–Ω–Ω—ã–π health check, –Ω–æ–≤—ã–µ middleware
3. `services/telegram_client.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω token
4. `core/middleware.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã RateLimitMiddleware, SecurityHeadersMiddleware
5. `scripts/backup.sh` - —É–ª—É—á—à–µ–Ω backup script
6. `requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω—ã pre-commit, isort, bandit

### –õ–∏–Ω–∏–∏ –∫–æ–¥–∞
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: ~800 —Å—Ç—Ä–æ–∫ (middleware, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- **–ò–∑–º–µ–Ω–µ–Ω–æ**: ~50 —Å—Ç—Ä–æ–∫ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

---

## üéØ –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏

### –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–¥–ª—è –±—É–¥—É—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π)

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (Priority 2)
   - JSON —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤
   - Log rotation
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ELK/Sentry

2. **Celery queues** (Priority 2)
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏

3. **Unit tests** (Priority 3)
   - –¢–µ—Å—Ç—ã –¥–ª—è services (user, discount, broadcast)
   - Coverage > 70%

4. **Integration tests** (Priority 3)
   - E2E flows
   - Broadcast flow
   - Birthday discount flow

5. **Prometheus metrics** (Priority 4)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
   - Grafana dashboards

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ

1. **–°–æ–∑–¥–∞–π—Ç–µ .env –∏–∑ .env.example**
   ```bash
   cp .env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pre-commit hooks**
   ```bash
   pip install -r requirements.txt
   pre-commit install
   ```

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ health check**
   ```bash
   curl http://localhost:8000/health
   ```

### –í —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backups**
   ```bash
   crontab -e
   # –î–æ–±–∞–≤—å—Ç–µ: 0 3 * * * cd /path/to/dvorik2 && ./scripts/backup.sh
   ```

5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ restore procedure**
   - –°–ª–µ–¥—É–π—Ç–µ `docs/BACKUP_RESTORE.md`

6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ rate limiting**
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ 429 –æ—à–∏–±–∫–∞–º–∏ –≤ –ª–æ–≥–∞—Ö
   - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–∏–º–∏—Ç—ã

### –í —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

7. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏**
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Unit tests
   - Integration tests

8. **Load testing**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É rate limiting –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ connection pool –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ

‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**
‚úÖ **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –≤–∞–∂–Ω—ã–µ DevOps –ø—Ä–∞–∫—Ç–∏–∫–∏**
‚úÖ **–ü–æ–≤—ã—à–µ–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**
‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (8/10)
  - Rate limiting ‚úÖ
  - Security headers ‚úÖ
  - Input validation ‚úÖ
  - –ù—É–∂–Ω–æ: WAF, Sentry

- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (8/10)
  - Health checks ‚úÖ
  - Backup/restore ‚úÖ
  - Error handling ‚úÖ
  - –ù—É–∂–Ω–æ: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –∞–ª–µ—Ä—Ç—ã

- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**: ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (7/10)
  - Pre-commit hooks ‚úÖ
  - Type hints ‚úÖ
  - –ù—É–∂–Ω–æ: –ë–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤

- **DevOps**: ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (7/10)
  - Docker ‚úÖ
  - Backup ‚úÖ
  - –ù—É–∂–Ω–æ: CI/CD, monitoring

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: **8/10** üéâ

–ü—Ä–æ–µ–∫—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ production deployment —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏ (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ç–µ—Å—Ç—ã).

---

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —É–ª—É—á—à–µ–Ω–∏—è–º —Å–º. —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: `.env.example`, `core/config.py`
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: `core/middleware.py`
- Backup/Restore: `docs/BACKUP_RESTORE.md`
- –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞: `.pre-commit-config.yaml`, `pyproject.toml`

