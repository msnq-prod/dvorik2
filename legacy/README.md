# –ú–∞—Ä–º–µ–ª–∞–¥–Ω—ã–π –î–≤–æ—Ä–∏–∫ - Loyalty & Communication System

–°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π –¥–ª—è "–ú–∞—Ä–º–µ–ª–∞–¥–Ω—ã–π –î–≤–æ—Ä–∏–∫" —Å –¥–≤—É–º—è Telegram –±–æ—Ç–∞–º–∏, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Telegram Bot –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤** - –ø–æ–¥–ø–∏—Å–∫–∞, —Å–∫–∏–¥–∫–∏, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
- **Telegram Bot –¥–ª—è –∫–∞—Å—Å–∏—Ä–æ–≤** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ–≥–∞—à–µ–Ω–∏–µ —Å–∫–∏–¥–æ–∫
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏, —à–∞–±–ª–æ–Ω–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏** - —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–°–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫** - –ø–æ–¥–ø–∏—Å–∫–∞, –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, —Ä—É—á–Ω–∞—è –≤—ã–¥–∞—á–∞
- **–ê—É–¥–∏—Ç –∏ KPI** - –ª–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (Python)
- **FastAPI** - REST API –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- **SQLAlchemy + Alembic** - ORM –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- **Celery + Redis** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **MySQL 8** - –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Redis** - –∫—ç—à, FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–æ–≤, Celery broker

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker + Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Flower** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Celery –∑–∞–¥–∞—á

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω .env
cp .env.example .env

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
# - DATABASE_* - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MySQL
# - REDIS_* - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Redis
# - TELEGRAM_BOT_TOKEN - —Ç–æ–∫–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞
# - TELEGRAM_AUTH_BOT_TOKEN - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞-–∫–∞—Å—Å–∏—Ä–∞
# - SUPERADMIN_TELEGRAM_ID - Telegram ID –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞
# - JWT_SECRET_KEY - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT
# - INTERNAL_API_KEY - –∫–ª—é—á –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
# –ü–æ–¥–Ω—è—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f api
docker-compose logs -f worker
docker-compose logs -f beat
```

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec api alembic upgrade head

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
docker-compose exec api alembic current
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook –¥–ª—è Telegram

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhooks –¥–ª—è –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤
curl -X POST http://localhost:8000/internal/set-webhooks \
  -H "X-API-Key: YOUR_INTERNAL_API_KEY"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å webhooks
curl -X GET http://localhost:8000/internal/webhook-info \
  -H "X-API-Key: YOUR_INTERNAL_API_KEY"
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å API
uvicorn app.main:app --reload --port 8000

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Celery Worker (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
celery -A core.celery_app worker --loglevel=info

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Celery Beat (–≤ —Ç—Ä–µ—Ç—å–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
celery -A core.celery_app beat --loglevel=info
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic revision --autogenerate -m "description"

# –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç—É—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic revision -m "description"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic downgrade -1
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å flake8
flake8 .

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å black
black .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Å mypy
mypy .
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
dvorik2/
‚îú‚îÄ‚îÄ alembic/                 # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ versions/            # –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ app/                     # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ main.py              # FastAPI app
‚îú‚îÄ‚îÄ core/                    # –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ database.py          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ redis.py             # Redis –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ celery_app.py        # Celery –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ security.py          # JWT, –ø–∞—Ä–æ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ dependencies.py      # FastAPI dependencies
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py        # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ exception_handlers.py # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ middleware.py        # Middleware
‚îÇ   ‚îî‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ models/                  # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îú‚îÄ‚îÄ admin.py
‚îÇ   ‚îú‚îÄ‚îÄ discount.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ schemas/                 # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îú‚îÄ‚îÄ discount.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ services/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ user_service.py
‚îÇ   ‚îú‚îÄ‚îÄ discount_service.py
‚îÇ   ‚îú‚îÄ‚îÄ telegram_client.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ routers/                 # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îú‚îÄ‚îÄ users.py
‚îÇ   ‚îú‚îÄ‚îÄ discounts.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ tasks/                   # Celery –∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ broadcast_tasks.py
‚îÇ   ‚îú‚îÄ‚îÄ birthday_tasks.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile               # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ .env.example             # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## üîë API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/v1/auth/login-token` - –æ–±–º–µ–Ω one-time —Ç–æ–∫–µ–Ω–∞ –Ω–∞ JWT
- `POST /api/v1/auth/login` - –≤—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é
- `GET /api/v1/auth/me` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –∞–¥–º–∏–Ω–µ

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /api/v1/users` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—è)
- `GET /api/v1/users/{id}` - –¥–µ—Ç–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /api/v1/users/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/v1/users/bulk` - –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –°–∫–∏–¥–∫–∏
- `GET /api/v1/discounts` - —Å–ø–∏—Å–æ–∫ —Å–∫–∏–¥–æ–∫
- `GET /api/v1/discounts/{id}` - –¥–µ—Ç–∞–ª–∏ —Å–∫–∏–¥–∫–∏
- `POST /api/v1/discounts` - —Ä—É—á–Ω–∞—è –≤—ã–¥–∞—á–∞ —Å–∫–∏–¥–∫–∏
- `GET /api/v1/discounts/stats/overview` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –†–∞—Å—Å—ã–ª–∫–∏
- `GET /api/v1/broadcasts` - —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—Å—ã–ª–æ–∫
- `POST /api/v1/broadcasts` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏
- `POST /api/v1/broadcasts/{id}/schedule` - –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É
- `POST /api/v1/broadcasts/{id}/send-now` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–µ–π—á–∞—Å
- `GET /api/v1/broadcasts/{id}/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—Å—ã–ª–∫–∏

### –°–µ–≥–º–µ–Ω—Ç—ã
- `GET /api/v1/segments` - —Å–ø–∏—Å–æ–∫ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- `POST /api/v1/segments` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞
- `GET /api/v1/segments/{id}/count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- `GET /api/v1/settings` - –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `PATCH /api/v1/settings/{key}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/v1/stats/kpi` - KPI (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–∫–∏–¥–∫–∏, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏)
- `GET /api/v1/stats/detailed` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥

## üéÆ Celery –∑–∞–¥–∞—á–∏

### –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ (Celery Beat)
- **–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00 VVO** - `check_birthdays()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è
- **–ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É** - `check_scheduled_broadcasts()` - –∑–∞–ø—É—Å–∫ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Å—ã–ª–æ–∫

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- `process_broadcast(broadcast_id)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞—Å—Å—ã–ª–∫–∏
- `send_broadcast_chunk(broadcast_id, user_ids)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–∞–Ω–∫–∞ —Ä–∞—Å—Å—ã–ª–∫–∏
- `send_user_notification(user_id, template_key, context)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `bulk_add_tags(user_ids, tags)` - –º–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–æ–≤
- `bulk_assign_discount(user_ids)` - –º–∞—Å—Å–æ–≤–∞—è –≤—ã–¥–∞—á–∞ —Å–∫–∏–¥–æ–∫

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **JWT —Ç–æ–∫–µ–Ω—ã** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–æ–≤ (—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è 24 —á–∞—Å–∞)
- **Bcrypt** - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **RBAC** - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ (owner, marketing, readonly)
- **API Key** - –∑–∞—â–∏—Ç–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- **Webhook Secret** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç Telegram

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Flower (Celery UI)
```
http://localhost:5555
```

### API Documentation
```
http://localhost:8000/api/docs       # Swagger UI
http://localhost:8000/api/redoc      # ReDoc
```

### Health Check
```bash
curl http://localhost:8000/health
```

## üïê –ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞

- **–°–∏—Å—Ç–µ–º–∞ (API, Worker, Beat)**: `Asia/Vladivostok` (VVO, UTC+10)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (MySQL)**: `UTC`
- **Celery Beat**: –∑–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –ø–æ –≤—Ä–µ–º–µ–Ω–∏ VVO
- **–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ 09:00 VVO

## üöÄ Production Deployment

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ MySQL –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –∫–∞–∫ reverse proxy –ø–µ—Ä–µ–¥ API
3. –í–∫–ª—é—á–∏—Ç—å HTTPS (Let's Encrypt)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å backup –ë–î –∏ Redis
5. –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Sentry –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏
6. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)
7. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis Sentinel –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ Worker'–æ–≤ Celery
- –®–∞—Ä–¥–∏–Ω–≥ Redis –ø–æ —Ç–∏–ø–∞–º –¥–∞–Ω–Ω—ã—Ö (–∫—ç—à, FSM, Celery)
- Read Replicas –¥–ª—è MySQL

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - All rights reserved

## üë• –ö–æ–º–∞–Ω–¥–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è "–ú–∞—Ä–º–µ–ª–∞–¥–Ω—ã–π –î–≤–æ—Ä–∏–∫"

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ `TASKS.md`

